{% set title = "Protein Interactions" %}
{% set page = "interactions" %}
{% extends "_base.html" %}
{% block body %}
<div id="content">
	<h1 class="page-header">Protein Interactions</h1>
	<div class="clearfix">
		{% set substitutions %} {
			"source": "<a href='{{ base }}/components/[[ source ]].html'>[[ source ]]</a>",
			"target": "<a href='{{ base }}/components/[[ target ]].html'>[[ target ]]</a>",
			"source_links": "<span style='white-space: nowrap;'><a href='http://www.uniprot.org/uniprot/[[ swiss_prot_id_source ]]'><img src='{{ base }}/images/swiss_prot.png'></a>&nbsp;<a href='http://amp.pharm.mssm.edu/Harmonizome/gene/[[ source ]]'><img src='{{ base }}/images/harmonizome.png'></a>&nbsp;<a href='http://www.genecards.org/cgi-bin/carddisp.pl?gene=[[ source ]]'><img src='{{ base }}/images/genecards.png'></a>&nbsp;<a href='http://www.ncbi.nlm.nih.gov/gene/[[ gene_id_source ]]'><img src='{{ base }}/images/ncbi.png'></a></span>",
			"target_links": "<span style='white-space: nowrap;'><a href='http://www.uniprot.org/uniprot/[[ swiss_prot_id_target ]]'><img src='{{ base }}/images/swiss_prot.png'></a>&nbsp;<a href='http://amp.pharm.mssm.edu/Harmonizome/gene/[[ target_target ]]'><img src='{{ base }}/images/harmonizome.png'></a>&nbsp;<a href='http://www.genecards.org/cgi-bin/carddisp.pl?gene=[[ target_target ]]'><img src='{{ base }}/images/genecards.png'></a>&nbsp;<a href='http://www.ncbi.nlm.nih.gov/gene/[[ gene_id_target ]]'><img src='{{ base }}/images/ncbi.png'></a></span>",
			"pmid_": "[% for i in pmid.split(' ') %] <a href='http://www.ncbi.nlm.nih.gov/entrez/query.fcgi?cmd=Retrieve&db=pubmed&dopt=Abstract&list_uids=[[ i ]]'>[[ i ]]</a><br />[% endfor %]",
			"swiss_prot_id_source": "",
			"swiss_prot_id_target": "",
			"pmid": ""
		} {% endset %}
		{% set cur = get_cursor() %}
		{% set table = cur|query("select `Source` as `Source Links`, *, `Target` as `Target Links`, `PMID` as `PMID_` from interactions")|apply(substitutions) %}
		{% include "_table.html" %}
	</div>
</div>
{% endblock %}
